<!doctype html>
<link rel="help" href="http://crbug.com/1325192">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="/common/utils.js"></script>
<script src="/common/dispatcher/dispatcher.js"></script>
<script src="/html/browsers/browsing-the-web/back-forward-cache/resources/helper.sub.js"></script>

<script>

const mimeTypes = [
  'application/x-shockwave-flash',
  'application/x-silverlight-2',
  'application/pdf'
];

// This test:
// * Attaches a plugin <object> to first page.
// * Navigates away, then back via bfcache.
for (const mimeType of mimeTypes) {
  runBfcacheTest({
    targetOrigin: originSameOrigin,
    shouldBeCached: true,
    funcBeforeNavigation: (mimeType) => {
      const obj = document.createElement('object');
      obj.type = mimeType;
      document.body.append(obj);
    },
    argsBeforeNavigation: [mimeType],
  }, `the page with object plugin '${mimeType}' should be loaded from bfcached.`);
}

</script>
