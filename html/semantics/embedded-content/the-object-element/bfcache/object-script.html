<!doctype html>
<link rel="help" href="http://crbug.com/1325192">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="/common/utils.js"></script>
<script src="/common/dispatcher/dispatcher.js"></script>
<script src="/html/browsers/browsing-the-web/back-forward-cache/resources/helper.sub.js"></script>

<script>
// This test:
// * Attaches an <object type='application/javascript'> to first page.
// * Navigates away, then back via bfcache.
runBfcacheTest({
  targetOrigin: originSameOrigin,
  shouldBeCached: true,
  funcBeforeNavigation: () => {
    const obj = document.createElement('object');
    obj.type = 'application/javascript';
    obj.data = '/resources/test-only-api.js';
    document.body.append(obj);
  }
}, 'the page with object script should be loaded from bfcached.');

</script>
